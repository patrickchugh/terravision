[build-system]
requires = ["setuptools>=42", "wheel", "pyinstaller"]
build-backend = "setuptools.build_meta"

[project]
name = "terravision"
version = "0.6"
dependencies = [
    "Click",
    "python-hcl2",
    "GitPython",
    "graphviz",
    "requests",
    "tqdm",
]

[project.scripts]
terravision = "terravision:cli"

[tool.setuptools.packages.find]
# All the following settings are optional:
where = ["."]  # ["."] by default
include = ["modules*", "resource_classes*", "resource_images*", "hcl2*"]
exclude = ["tests*"] 
namespaces = false  # true by default

[tool.poetry]
# Change this section to be project specific
name = "terravision"
version = "0.6"
description = "Terraform Architecture Visualizer"
authors = []
readme = 'README.md'
exclude = []

[tool.poetry.dependencies]
click = "8.1.8"
GitPython = "3.1.44"
graphviz = "0.20.3"
requests = "2.32.3"
setuptools = "75.8.0"
tqdm = "4.67.1"
python-hcl2 = "6.1.0"
pyinstaller = "6.11.1"
python = "3.12"
PyYAML = "6.0.2"
numpy = "2.2.2"
debugpy = "^1.8.12"
ipaddr = "^2.2.0"

[tool.poetry.group.test]
optional = true

[tool.poetry.group.test.dependencies]
pytest = "^7.3.1"
black = "^23.3.0"
isort = "^5.12.0"

[tool.isort]
skip = ["drawing.py"]

[tool.pyinstaller]
name = "terravision"
onefile = true
add-data = [
    "resource_images:resource_images",
    "hcl2:hcl2"
]